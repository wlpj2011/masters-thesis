\chapter{Local Converse Theorem for Smooth Representations of the Weil Group}	%Chapter title
\begin{itemize}
\item Definition of Local field
\item unique maximal unramified extension and unique sub extensions of each degree prime to characteristic
\item Definition of Frobenius
\item Definition of Weil Group 
\item Definition of Smooth Representations of Weil Group; and semi-simple
\item Definition of Inertia subgroup 
\item Explain unramified/tamely ramified/highly ramified and inertia/wild-inertia and level of characters.
\item Explain what is necessary of additive characters and how we can choose a level 1?0? additive character and everything changes predictably if we change it
\item Definitions of $L$ functions and $\epsilon$ factors for characters of $F^\times$
\item Brief highlights for local class field theory
\item Definition of L function of representations of Weil group
\item Definition of $\epsilon$ factor of representation 
\item Definition of $\gamma$ factor of representation 
\item Definition of $\epsilon_0$ factor of representation 
\item Relate this to Gauss sums/what are the gauss sums the naturally appear in the $\epsilon$ factor? and what can they be reduced to?
\item Stability Theorem for characters of $F^\times$ from BH 23.8
\item 1D Local Converse Theorem
\begin{itemize}
\item $\gamma$ has $1$ pole; so dealing with an unramified character uniquely defined by it's pole/zero
\item $\gamma$ has no poles; use stability and twist by highly ramified characters 
\end{itemize}
\item 2D Local Converse Theorem 
\begin{itemize}
\item $\gamma$ has $2$ poles, 
\begin{itemize} 
\item $\rho$ is the sum of two unramified characters
\end{itemize}
\item $\gamma$ has $1$ pole
\begin{itemize}
\item $\rho$ is the sum of an unramified character and a tamely ramified character
\item $\rho$ is the sum of two unramified characters, one of which is $1/q$ times the other cancelling out a pole and a zero in $\gamma$
\end{itemize}
\item $\gamma$ has no poles:
\begin{itemize}
\item $\rho$ is the sum of two tamely ramified characters; then twisting by a level $1$ character gives $|\epsilon| \sim q^{1-2s}$. We have $\chi_1 \oplus \chi_2$ and $\chi_1' \oplus \chi_2'$. Twist both by $\chi_1^{-1}$ to force an unramified character, the poles of $\gamma$ must match, so either $\chi_1^{-1} \otimes \chi_1'$ or $\chi_1^{-1} \otimes \chi_2'$ must be unramified and infact equal to identity. Then we only have one character and can use stability. If we end up with $\chi_1 = \chi_2$ we get two poles after twisting and same on the other side.
\item $\rho$ is a $2$ dimensional tamely ramified irreducible induced by a tamely ramified character of an unramified quadratic extension; then twisting by a level $1$ character gives $|\epsilon| \sim q^{\frac{1}{2}-s}$. In this case, both characters must be induced by a tamely ramified character of the same unramified quadratic extension, so we can deal with the character instead of the dim $2$ irreducible. There we just use stability to prove the characters are the same. There will need to be a discussion of the Langlands constant and induction of $\epsilon$ here.
\end{itemize}
\end{itemize}
\item Do we ever actually need the finite field local converse theorem? 
\item Can we use finite field local converse theorem instead of stability?
\item Why does this proof technique break down eventually?
\item How far can it get? Can it prove $n = 3,4,5?$ Is $n=6$ when you start needing dim $2$ twists?
\item Can you get highly ramified $n=2$? Stability doesn't work as well here because of the level restrictions. What changes with non-semisimple $n=2$?
\end{itemize}

Most of the introductory material on local fields will echo that in Jean-Pierre Serre's \textit{Local Fields} \cite{Serre1979}, with the material on local class field theory coming from from Bushnell and Henniart's \textit{The Local Langlands Conjecture for $GL(2)$} \cite{Bushnell2006}.
Adopting the notation in the second of these references, we will have the following notation for local fields.\\
$F$ and $E$ will refer to a non-Archimedean local fields.\\
$\fo$ is the discrete valuation ring in $F$.\\
$\fp$ is the unique maximal ideal of $\fo$.\\
$\varpi$ is the uniformizer and a generator of $\fp$.\\
$v_F$ will be that valuation define of $F$ by $\fo$.\\
$\bk = \fo/\fp$ is the residue field of $F$.\\
$q = p^n = |k|$ is the size of the residue field where $p$ is the characteristic.\\
$U_F$ is the group of units of $\fo$.\\
$U_F^n = 1 + \fp^n$ for $n \geq 1$ are subgroups of the unit group forming a filtration.\\
$\psi$ will be an additive character of $F$ and $\widehat{F}$ will be the group of additive characters of $F$. \\
$\chi$ and $\xi$ will be characters of $F^\times$ or of $\cW_F$ and $\widehat{F^\times}$ will be the group of multiplicative characters of $F$. \\
$\Omega_F$ will be the absolute Galois group of $F$ and $\cW_F$ will be the Weil group of $F$. \\
$\rho$ and $\sigma$ will be semisimple representations of $\cW_F$ and $\rho$ will be tamely ramified.\\


\section{Local Fields}
\label{sec:local-fields}
We are interested in a local converse theorem for smooth representations of the Weil group of a local field.We are interested in a local converse theorem for smooth representations of the Weil group of a local field.
\begin{defn}
  A \textbf{discrete valuation ring} is a principal ideal domain $\fo$ with a unique non-zero prime ideal $\fp$.
\end{defn}
We also call such a ring $\fo$ a DVR.
An alternative characterization of a DVR is that it is a domain $\fo$ such that its field of fractions $K$ has a non-trivial valuation $v : K \to \bbZ \cup \{ \infty \}$; that is, a function $v$ such that $v(xy) = v(x) + v(y)$, $v(x+y) \geq \min \{v(x),v(y)\}$, $v(x) = 0$ if and only if $x = 0$, and $v$ takes more values than just $0$ and $\infty$.
\begin{defn}
  A \textbf{local field} is a field $F$ with a valuation $v$ that is locally compact with respect to the topology provided by the valuation and has finite residue field $k$ with $|k| = q = p^n$.
  The valuation defines a basis of open sets as the additive cosets of the $v^{-1}(\{x \in F \mid q^{-v(x)} \leq r\})$ for positive real numbers $r$.
\end{defn}
Given a local field $F$, it is not difficult to show that $\fo = \{x \in F \mid q^{-v(x)} \leq 1\}$ is the ring of integers of $F$ and is a DVR.
Further, $\fp = \{x \in F \mid q^{-v(x)} < 1\}$ is unique maximal (prime) ideal of the DVR $\fo$.
Finally, $\fo^\times = U_F = \{x \in F \mid q^{-v(x)} = 1\} = \{x \in F \mid v(x) = 0\}$ is the unit group of $\fo$.
A local field is isomorphic as a topological field to $\bbR$, $\bbC$, a finite extension of the $p$-adic numbers $\bbQ_p$, or the field of formal Laurent series $\bbF_q((T))$ over a finite field.
$\bbR$ and $\bbC$ are Archimedean local fields, so extensions of $\bbQ_p$ and $\bbF_q((T))$ will be the examples of the non-Archimdean local fields under consideration.
\\

For a DVR $\fo$ or for a local field $F$, we define a special element called the uniformizer, denoted by $\varpi$, which is a prime in $\fo$, so that $\varpi \fo = \fp$ is the unique prime ideal.
This choise is unique up to units.

\section{$L$ Functions and $\epsilon$ Factors of Local Fields}
\label{sec:Leps-LF}
Though we are interested in the representation theory of the Weil group, and how we can tell apart the representations of the Weil group, in order to define the objects we will use to do so, we must first define them for local fields.
Generally, a local converse theorem for local fields would deal with representations of $GL_n(F)$; however, all of the tools we need are developed while studying $GL_1(F) = F^\times$.\\

An additive character of a local field $F$ is a continuous homomorphism $\psi: F \to \bbC^\times$; these are the $1$ dimensional representations of the additive group of $F$.
Equivalently to saying $\psi$ is continuous, $\ker \psi$ is open in the topology defined by the valuation.
We let $\hat{F}$ be the group of additive characters of $F$, which are a group under pointwise multiplication.
\begin{defn}
  Let $\psi \in \hat{F}$ with $\psi \neq 1$.
  The \textbf{level} of $\psi$ is the smallest integer $d$ such that $\fp^d \subseteq \ker \psi$.
\end{defn}
We then have the following proposition mostly characterising the additive characters of $F$.
\begin{prop}
  Let $\psi \in \hat{F}$ with $\psi \neq 1$ be a level $d$ character.
  \begin{enumerate}
    \item Let $a \in F$. The map $a \psi : x \mapsto \psi(ax)$ is a character of $F$. If $a \neq 0$, then the character $a \psi$ has level $d - v_F(a)$, where $v_F$ is the valuation on $F$.
    \item The map $a \mapsto a \psi$ is a group isomorphism $F \cong \hat{F}$.
  \end{enumerate}
\end{prop}

We also define multiplicative characters of $F$ which are the $1$ dimensional representations of the multiplicative group of $F$.
In this setting, a multiplicative character of a local field $F$ is a continuous homomorphism $\chi : F^\times \to \bbC^\times$.
We also define level for multiplicative characters with a slight modification.
\begin{defn}
  Let $\chi$ be a non-trivial character of $F^\times$.
  The \textbf{level} of $\chi$ is defined to be the smallest integer $n \geq 0$ such that $U^{n+1}_F \subseteq \ker \chi$.
  We further say that $\chi$ is \textbf{unramified} if $U_F \subseteq \ker \chi$.
\end{defn}

The final thing we need to define the functions of interest is the concept of a duality for representations of $F^\times$.
Because we are working with topological spaces, we need a definition of duality that respects the topological structure which will be called the \textbf{smooth dual} of a character $\chi$ and will be denoted by $\check{\chi}$.
If $(\chi, V)$ is a smooth representation of $F^\times$, then let $V^* = \hom_\bbC(V,\bbC)$ and let $(v^* , v) \mapsto \langle v^*, v\rangle$ be the canonical evaluation map.
Then we can define a representation $\chi^*$ of $F^\times$ on the space $V^*$ by
\[\langle \pi^*(g)v^*, v\rangle = \langle v^* , \pi(g^{-1})v\rangle.\]
This is not necessarily a smooth representation, but we can define $\check{V} = \cup_K (V^*)^K$ where $K$ ranges over compact open subgroups of $F^\times$ and the $(V^*)^K$ are the subspaces of $K$ fixed vectors in the representation.
Then we define $\check{\chi}$ as the restriction to $\aut_\bbC(\check{V})$.
This $(\check{\chi},\check{V})$ is the smooth dual of the character $(\chi, V)$.
\\

Now we can define the $L$ function and the  $\epsilon$ and $\gamma$ factors for characters of $F^\times$.
We define the $L$ function for a character of $F^\times$ as a variable of a complex variable $s$.

\begin{defn}
  Let $\chi$ be a characters of $F^\times$ and $q$ be the size of the residue field of $F$. Then we define the \textbf{$L$-function of $\chi$} as $L(\chi, s) : \bbC \to \bbC$ by 
  \[L(\chi, s) = \begin{cases} (1 - \chi(\varpi) q^{-s})^{-1} & \text{ if } \chi \text{ is unramified,} \\ 1 & \text{ otherwise} \end{cases}.\]
  This will be independent of the choice of uniformizer because unramified characters $\chi$ are trivial on units.
\end{defn}

Next, we define the $\epsilon$ factor as another function of a complex variable which is a sum of over the units of the ring of integers of $F$.
\begin{defn}
  For characters $\chi$ of $F^\times$ with level $n \geq 0$ and not unramified, and $\psi \in \hat{F}$ with level one, we define the \textbf{$\epsilon$-factor of $\chi$ (relative to $\psi$)} as
  \[\epsilon(\chi, s, \psi) = q^{n(\frac{1}{2} - s)} \sum_{x \in U_F/U_F^{n+1}} \chi(\alpha x)^{-1} \psi(\alpha x)/q^{(n+1)/2}\]
  for any $\alpha \in F^\times$ such that $v(\alpha) = -n$.
  For characters $\chi$ of $F^\times$ that are unramified; we define the $\epsilon$-factor by
  \[\epsilon(\chi, s, \psi) = q^{s - \frac{1}{2}} \chi(\varpi)^{-1}.\]
\end{defn}

As a quick justifcation for only dealing with $\psi$ of level one, we have the following lemma which describes how $\epsilon(\chi, s, \psi)$ changes as $\psi$ changes.
\label{lem:level-one-psi-reduction}
\begin{lemma}
  Let $a \in F^\times$; then for fixed $\chi$, we have
  \[\epsilon ( \chi, s, a \psi) = \chi(a) \| a \|^{s - \frac{1}{2}} \epsilon (\chi, s, \psi)\]
\end{lemma}

Finally, we will define the $\gamma$ factor as a useful combination of the $L$-functions and $\epsilon$-factors.
\begin{defn}
  For characters $\chi$ of $F^\times$ and $\psi$ of $F$, then we define the \textbf{$\gamma$-factor of $\chi$ (relative to $\psi$)} by
  \[\gamma(\chi, s, \psi) = \epsilon(\chi, s, \psi) \frac{L(\check{\chi}, 1-s)}{L(\chi,s)}.\]
\end{defn}
The $\gamma$-factor encodes information about how $\chi$ acts on the uniformizer and how $\chi$ acts on $U_F$ in such a way that we hope the $\gamma$-factor can help distinguish characters of $F^\times$.


As well as the definitions of $L, \gamma$, and $\epsilon$, we will need a theorem that describes how $\epsilon$ factors change as we twist them by high level characters.

\begin{theorem}[Stability Theorem]
  \label{thm:Stability}
  Let $\theta, \chi$ be characters of $F^\times$ of level $ l \geq 0$ and $n \geq 1$.
  Suppose that $2l < n$.
  Let $\psi \in \hat{F}$ with $\psi \neq 1$ and let $c \in F$ satisfy $\chi(1+x) = \psi(cx)$ for $x \in \fp^{\lfloor n/2 \rfloor + 1}$.
  Then
  \[ \epsilon(\theta \chi, s, \psi) = \theta(c)^{-1} \epsilon(\chi, s, \psi).\]
\end{theorem}

To prove this; we first convert the $\epsilon$-factor into a Gauss sum and then prove a lemma about this Gauss sum.
If we define the \textbf{Gauss sum of $\chi$ (relative to $\psi$)} as
\[\tau(\chi, \psi) = \sum_{x \in U_F/U_F^{n+1}} \check{\chi}(cx) \psi(cx),\]
then this allows us to take the $s$ dependence out of the $\epsilon$-factor.
Specifically, we have from our definition above that for ramified $\chi$ of level $n \geq 0$
\[\epsilon(\chi, s, \psi) = q^{n(\frac{1}{2} - s)} \tau(\chi, \psi)/ q^{(n+1)/2}.\]
Then we have the following lemma
\label{lem:Gauss-sum-reduction}
\begin{lemma}
  Suppose that $\chi$ has level $n \geq 1$.
  Let $c \in F$ satisfy
  \[ \chi(1 +x) = \psi(cx), \textrm{for all } x\in \fp^{\lfloor n/2 \rfloor + 1}\]
  Then
  \[\tau(\chi, \psi) = q^{\lfloor (n+1)/2 \rfloor} \sum_y \check{\chi}(cy) \psi(cy)\]
  where $y \in U_F^{\lfloor (n+1)/2 \rfloor} / U_F^{\lfloor n/2 \rfloor + 1}$.
\end{lemma}

\begin{proof}
  Recall that for a level $n$ character $\chi$
  \[\tau(\chi, \psi) = \sum_{x \in U_F/U_F^{n+1}} \check{\chi}(cx) \psi(cx).\]
  We will make the change of variable $x = y(1+z)$ with $y \in U_F/U_F^{\lfloor n/2 \rfloor + 1}$ and $z \in \fp^{\lfloor n/2 \rfloor + 1}/\fp^{n+1}$. Then we can rewrite the $\check{\chi}(cx) \psi(cx)$ in the sum as
  \[\check{\chi}(cy(1+z))\psi(cy(1+z)) = \check{\chi}(cy)\psi(cy) \psi(c(y-1)z).\]
  This follows because $\check{\chi}(cy(1+z)) = \check{\chi}(cy) \check{\chi}(1+z) = \check{\chi}(cy)\chi(1+z)^{-1}$ and by the assumptions of the lemma, $\chi(1+z)^{-1} = \psi(cz)^{-1} = \psi(-cz)$.
  Now, we can rewrite the sum as
  \[\tau(\chi, \psi) = \sum_x \check{\chi}(cx) \psi(cx) = \sum_y \check{\chi}(cy) \psi(cy)\left( \sum_z \psi(c(y-1)z)\right).\]
  The sum over $y \in U_F/U_F^{\lfloor n/2 \rfloor +1}$ looks superficially like what we want; but note that the desired sum is actually over $y \in U_F^{\lfloor (n+1)/2 \rfloor} /U_F^{\lfloor n/2 \rfloor +1}$.
  So we need to show that the sum over $z \in \fp^{\lfloor n/2 \rfloor +1} / \fp^{n+1}$ works out as necessary.
  Since $c(y-1) \in \fp^{-n}$, we find that $z \mapsto \psi(c(y-1)z)$ is a character of $\fp^{\lfloor n/2 \rfloor +1}/\fp^{n+1}$.
  In fact, $z \mapsto \psi(c(y-1)z)$ will be the trivial character if and only if $y \equiv 1 \mod \fp^{n - \lfloor n/2 \rfloor}$; i.e. $y \in U_F^{\lfloor (n+1)/2\rfloor}$.
  Since the sum of a character over its group is $0$ except for the trivial character; we find that this sum vanishes except when $y \in U_F^{\lfloor (n+1)/2 \rfloor}$ when the sum is $(\fp^{\lfloor n/2 \rfloor +1} : \fp^{n+1}) = q^{\lfloor (n+1)/2 \rfloor}$.
  Making this substitution, we find as desired that
  \[ \tau(\chi, \psi) = q^{\lfloor (n+1)/2\rfloor} \sum_y \check{\chi}(cy) \psi(cy) \]
  where the sum is now over $y \in U_F^{\lfloor (n+1)/2 \rfloor} /U_F^{\lfloor n/2 \rfloor +1}$.
\end{proof}

With this lemma in hand, we can now provide a proof of the stability theorem.

\begin{proof}
  We only need to consider $\psi$ level one because Lemma \ref{lem:level-one-psi-reduction} tells us how to convert to $\psi$ of other levels.
  Since $\theta$ is level $l$ and $\chi$ is level $n$ with $2l < n$, we have that $\theta\chi$ will be a level $n$ character because it is trivial on $U_F^{n+1}$.
  Similarly, we have that $\theta \chi$ agrees with $\theta$ on $U_F^{l+1}$.
  More usefully, because $2l < n$, we have that $\theta \chi$ agrees with $\theta$ on $U_F^{\lfloor (n+1)/2 \rfloor}$.
  Applying Lemma \ref{lem:Gauss-sum-reduction} to the gauss sum portion of $\epsilon(\theta\chi,s,\psi)$, we get
  \[\tau(\theta \chi, \psi) = q^{\lfloor (n+1)/2\rfloor} \sum_y \check{\theta}\check{\psi}\]
  with the sum over $y \in U_F^{\lfloor (n+1)/2 \rfloor}/U_F^{\lfloor n/2 \rfloor + 1}$.
  Since $\theta$ is trivial on $U_F^{\lfloor (n+1)/2 \rfloor}$, this becomes $\theta(c)^{-1} \tau(\chi, \psi)$ as we expect.
  Substituting this into the expression for the $\epsilon$-factor, we find that
  \[\epsilon(\theta\chi, s, \psi) = \theta(c)^{-1} \epsilon(\chi, s, \psi)\]
  as desired.
\end{proof}

Finally, for ramified characters of $F^\times$; we can relate to the Gauss sum in $\epsilon$ to a gauss sum for a finite field.
\textcolor{red}{Get back to this.}
\section{Weil Groups of Local Fields}
\label{sec:weil-group}
Let $F$ be a non-Archimedean local field and pick a separable algebraic closure $\overline{F}$ of $F$.
Then we can define the absolute Galois group $\Omega_F = \gal(\overline{F}/F)$ which gets a natural topology as
\[\Omega_F = \lim_{\leftarrow} \gal(E/F)\]
where $E/F$ ranges over finite Galois extensions with $E \subseteq \overline{F}$.

For each $m \geq 1$, $F$ will have a unique unramified extensions $F_m/F$ of degree $m$ with $F_m \subseteq \overline{F}$.
Let $F_\infty$ be the composite of all these fields.
Then $F_\infty/F$ will be the unique maximal unramified extensions of $F$ in $\overline{F}$.
Each of the unique subextensions $F_m/F$ has a cyclic Galois group $\gal(F_m/F)$.
Each automorphism in $\gal(F_m/F)$ is determined by it's action on the residue field $\bk_{F_m}$, which is isomorphic to $\bbF_{q^m}$ becuase $F_m/F$ is an unramified extension.
So, there will be a unique element $\phi_m \in \gal(F_m/F)$ that acts on $\bk_{F_m}$ by $x \mapsto x^q$.
We then let $\Phi_m = \phi_m^{-1}$.
We get a canonical isomorphism $\gal(F_m/F) \to \bbZ/m\bbZ$ by the map $\Phi_m \mapsto 1$; and by taking the limit over $m$; we get an isomorphism
\[\gal(F_\infty/F) \cong \lim_{\leftarrow m \geq 1} \bbZ/m\bbZ \cong \hat{\bbZ}\]
and a unique $\Phi_F \in \gal(F_\infty/F)$ that acts like $\Phi_m$ on each $F_m$.
We call this $\Phi_F$ the \textbf{geometric Frobenius substitution} on $F_\infty$.
Similarly, we define $\phi_F = \Phi_F^{-1}$ to be the \textbf{arithmetic Frobenius substitution} on $F_\infty$.
If an element of $\Omega_F$ has $\Phi_F$ as its image in $\gal(F_\infty/F)$, we call it a \textbf{geometric Frobenius element}.
We then define $\cI_F = \gal(\overline{F}/F_\infty)$ to be the \textbf{inertia group} of $F$.
This subgroup $\cI_F \subseteq \Omega_F$ roughly corresponds to the units $U_F$ of $F$.
There is another subgroup called the wild inertia group, denoted $\cP_F$, which roughly corresponds to the units $U_F^1$, and is the unique pro $p$-Sylow subgroup of $\cI_F$.
These correspondences are made precise in Theorem \ref{thm:LCFT}
\\

We can then define the Weil group $\cW_F$ as a subgroup of $\Omega_F$.
We first define $_a\cW_F$ as the inverse image in $\Omega_F$ of the subgroup $\langle \Phi_F\rangle$ of $\gal(F_\infty/F)$.
This is a dense normal subgroup of $\Omega_F$ generated by the Frobenius elements.
We then define the \textbf{Weil group of F} as a topological group with $_a\cW_F$ as the underlying abstract group, where $\cI_F$ is an open subgroup of $\cW_F$ and the topology on $\cI_F$ as a subspace coincides with the natural topology on $\cI_F$ as a subspace of $\Omega_F$.
\\

We then have a proposition defining a few properties of the Weil group as relate to field extensions $E/F$.
\begin{prop}
  \begin{enumerate}
    \item Let $E/F$ be a finite extension with $E \subseteq \overline{F}$.
    \begin{enumerate}
      \item The group $\cW_F$ has a unique subgroup $\cW^E_F$ such that \[\bm{\iota}_F(\cW^E_F) = _a\cW_F \cap \Omega_E\] where $\bm{\iota}$ is the identity map $\cW_F \to _a\cW_F \subseteq \Omega_F$.
      \item The subgroup $\cW^E_F$ is open and of finite index in $\cW_F$; it is normal in $\cW_F$ if and only if $E/F$ is Galois.
      \item The canonical map $\cW^E_F\setminus \cW_F \to \Omega_E \setminus \Omega_F$ is a bijection.
      \item The canonical map $\bm{\iota}_E : \cW_E \to \Omega_E$ induces a topological isomorphism $\cW_E \cong \cW^E_F$.
    \end{enumerate}
    \item The map $E/F \mapsto \cW^E_F$ is a bijection between the set of finite extensions $E$ of $F$ inside $\overline{F}$ and the set of open subgroups of $\cW_F$ of finite index.
  \end{enumerate}
\end{prop}

Due to this proposition, we indentify $\cW_E$ with the subgroup $\cW^E_F$ of $\cW_F$ going forward.



The representations of $\cW_F$ form a particularly nice subcollection of the representations of $\Omega_F$, and it is these representations that we will be studying.
\section{Local Class Field Theory}
\label{sec:LCFT}
\begin{theorem}
\label{thm:LCFT}
  There is a canonical continuous group homomorphism
  \[\bm{a}_F : \cW_F \to F^\times\]
  with the following properties.
  \begin{enumerate}
    \item The map $\bm{a}_F$ induces a topological isomorphism $\cW_F^{\text{ab}} \cong F^\times$.
    \item An element $x \in \cW_F$ is a geometric Frobenius if and only if $\bm{a}_F(x)$ is a prime element of $F$.
    \item We have $\bm{a}_F(\cI_F) = U_F$ and $\bm{a}_F(\cP_F) = U^1_F$.
    \item If $E/F$ is a finite separable extensions, the diagram \textcolor{red}{insert here} commutes.
    \item Let $\alpha : F \to F'$ be an isomorphism of fields. The map $\alpha$ induces an isomorphism $\alpha: \cW^{\text{ab}}_F \to \cW^{\text{ab}}_{F'}$, and the diagram \textcolor{red}{insert here} commmutes.
  \end{enumerate}
\end{theorem}

One consequence of Theorem \ref{thm:LCFT} is that the map $\bm{a}_F$, which we call the Artin reciprocity map, gives an isomorphism $\chi \mapsto \chi \circ \bm{a}_F$ between the group of characters of $F^\times$ and the group of characters of $\cW_F$.
More precisely, we have that unramified characters of $F^\times$ (trivial on $U_F$) correspond to unramified characters of $\cW_F$ (trivial on $\cI_F$); and tamely ramified charactesrs of $F^\times$ (trivial on $U_F^1$, level $n=0$) correspond to characters of $\cW_F$ trivial on $\cP_F$.
We can use these correspondences to define the $L$-functions, $\epsilon$-factors, and $\gamma$-factors for representations of the Weil group.

\section{$L$-Functions and $\epsilon$-Factors of Weil Groups}
\label{sec:Leps-weil-group}
\begin{defn}
  If $\chi$ is a character of $\cW_F$, then we define
  \begin{align*}
    L(\chi, s) &= L(\chi \circ \bm{a}_F, s) \\
    \epsilon(\chi, s, \psi) &= \epsilon(\chi \circ \bm{a}_F, s, \psi)
  \end{align*}
  Where the functions on the right are those defined in Section \ref{sec:Leps-LF}.
\end{defn}
Going forward, we will use $\chi$ instead of $\chi \circ \bm{a}_F$ when it is clear we mean the character of $F^\times$ corresponding to the character of $\cW_F$.
Now that we have defined $L$ and $\epsilon$ for $1$ dimensional characters, we can extend their definitions to $n$ dimensional representaions of $\cW_F$.

The $L$ function is then easy to extend to semi-simple representations of $\cW_F$.
We simply say that $L(\sigma,s) = 1$ for irreducible representations $\sigma$ with dimensions $\geq 2$.
Then we make $L$ multiplicative by requiring that
\[L(\sigma_1 \oplus \sigma_2,s) = L(\sigma_1,s)L(\sigma_2,s).\]
\\

It takes more work to define the $\epsilon$-factor for all semi-simple representations of $\cW_F$.
The main properties we need are that if $\rho_1, \rho_2$ are semi-simple representations of $\cW_E$ with $E/F$ a finite separable extension, then
\[\epsilon(\rho_1 \oplus \rho_2,s,\psi_E) = \epsilon(\rho_1,s,\psi_E)\epsilon(\rho_2,s,\psi_E)\]
where $\psi_E = \psi \circ \tr_{E/F}$, which is the multipicativity that we expect.
We also have an additional property that allows for inudction of characters.
This is
\label{prop:local-constant-induction}
\begin{prop}
  If $\rho$ is a semi-simple $n$-dimensional representation of $\cW_E$ and $E\supset K \supset F$, then
  \[\frac{\epsilon(\ind_{E/K} \rho, s, \psi_K)}{\epsilon(\rho,s,\psi_E)} = \frac{\epsilon(R_{E/K},s,\psi_K)^n}{\epsilon(1_E,s,\psi_E)^n}.\]
  Where $1_E$ is the trivial character on $\cW_E$ and $R_{E/K} = \ind^E_K 1_E$.
\end{prop}
Multiplicativity and Proposition \ref{prop:local-constant-induction} allows us to define the $\epsilon$ factor for any semi-simple representation because any irreducible representation of $\cW_F$ is the induced representation of a character from an appropriate finite extension.
Specifically, we have the following theorem, which will allow us to work only with characters for $\cW_E$ for appropriate extensions $E/F$.
\begin{theorem}
\textcolor{red}{What is this theorem exactly...?}
\end{theorem}

Finally, as was the case for $F^\times$, we still define the $\gamma$-factor for semi-simple representation $\rho$ of $\cW_F$ as
\[\gamma(\rho, s ,\psi) = \epsilon(\rho, s, \psi) \frac{L(\check{\rho},1-s)}{L(\rho,s)}.\]

\section{Local Converse Theorem for $2$ Dimensional Representations of the Weil Group}
\label{sec:n=2-LCT-weil-group}
Finally, we have all the pieces necessary to state the local converse theorem for representations of the Weil Group.
What has been proven in the most general case using the Langlands correspondence is the following theorem:

\begin{theorem}[Local Converse Theorem]
  Let $\rho_1$ and $\rho_2$ be $n$-dimensional tamely ramified semi-simple representations of $\cW_F$, with $n \geq 2$, such that for all semi-simple representations of $\cW_F$ with dimension $k \leq \lfloor \frac{n}{2} \rfloor$ we have
  \[\gamma(\rho_1 \otimes \sigma,s,\psi) = \gamma(\rho_2 \otimes \sigma,s,\psi).\]
  Then $\rho_1 \cong \rho_2$.
\end{theorem}

\textcolor{red}{What exactly does $\cong$ mean here...?}

What we would like to prove here is a local converse theorem specifically for the case $n=2$. This can be states slightly more simply as follows:

\begin{theorem}[Local Converse Theorem on $\cW_F$ with $n=2$]
  \label{thm:LCTn=2}
  Let $\rho_1$ and $\rho_2$ be $2$-dimensional tamely ramified semi-simple representations of $\cW_F$, such that for all characters $\chi$ of  $\cW_F$, we have
  \[\gamma(\rho_1 \otimes \chi,s,\psi) = \gamma(\rho_2 \otimes \chi,s,\psi).\]
  Then $\rho_1 \cong \rho_2$.
\end{theorem}

Overall, this theorem can be split into three cases depending on the number of poles of $\gamma$, then two of those cases can be further split into two more cases each depending on the nature of the representations involved. We shall prove each of those cases first as lemmas, then we shall prove that those are the only cases and so the local converse theorem on $\cW_F$ holds for $n=2$.


\begin{lemma}[$\gamma$ has $2$ poles]
  \label{lem:gamma-two-poles}
  Suppose $\rho_1$ and $\rho_2$ are $2$-dimensional tamely ramified semi-simple representations of $\cW_F$, such that
  \[\gamma(\rho_1,s,\psi) = \gamma(\rho_2,s,\psi),\]
  and $\gamma(\rho_i,s,\psi)$ has $2$ poles.
  Then $\rho_1 = \rho_2$.
\end{lemma}

\begin{proof}
  Suppose that $\gamma(\rho_1,s,\psi) = \gamma(\rho_2,s,\psi)$ has two poles.
  Recall that
  \[\gamma(\rho_i,s,\psi) = \epsilon(\rho_i,s,\psi) \frac{L(\check{\rho_i},1-s)}{L(\rho_i,s)}.\]
  So $\gamma(\rho_i,s,\psi)$ has poles only when $\epsilon(\rho_i,s,\psi)$ has poles, when $L(\check{\rho_i},1-s)$ has poles, and when $L(\rho_i,s)$ has zeroes.
  However, $\epsilon(\rho_i,s,\psi)$ never has poles because it's only $s$ dependence comes from the $q^{n(\frac{1}{2}-s)}$ factor not unramified level $n$ characters, or the $q^{s - \frac{1}{2}}$ factor for unramified characters.
  Similarly, $L(\rho_i,s)$ never has zeroes because it is defined multiplicatively as $1$ for non-characters and not unramified characters and $(1 - \chi(\varpi)q^{-s})^{-1}$ for unramified characters.
  Specifically, we see that $L(\check{rho_i},1-s)$ has one pole for each unramified character in $\check{\rho_i}$.
  Since $L(\check{\rho_i}, 1-s)$ is the only source of poles in $\gamma(\rho_i,s,\psi)$, we must have that $L(\check{\rho_i},1-s)$ has two poles and therefore $\rho_i$ each contain two unramified characters.
  Since the $\rho_i$ are two dimensional characters of $\cW_F$, we therefore have that each $\rho_i$ is in fact a direct sum of two unramified characters of $\cW_F$.

  Write $\rho_i = \theta_i \oplus \theta_i'$, with $\theta_i, \theta_i'$ both unramified characters of $\cW_F$.
  Since $\gamma(\rho_1,s,\psi) = \gamma(\rho_2,s,\psi)$ have the same two poles, we must have that $L(\check{\rho_1},1-s)$ and $L(\check{\rho_2},1-s)$ have the same poles which is equivalent to $L(\rho_1,s)$ and $L(\rho_2,s)$ having the same poles.
  Becuase the $L$-function is multiplicative we have that
  \[L(\theta_1,s)L(\theta_1',s) = L(\theta_2,s)L(\theta_2',s)\]
  and because we know that all the characters involved are unramified, we find that treating the $\theta_i,\theta_i'$ as characters of $F^\times$ we have
  \[(1 - \theta_1(\varpi)q^{-s})^{-1}(1 - \theta_1'(\varpi)q^{-s})^{-1} = (1 - \theta_2(\varpi)q^{-s})^{-1}(1 - \theta_2'(\varpi)q^{-s})^{-1}.\]
  The left side has poles at $s = \log_q \theta_1(\varpi), \log_q \theta_1'(\varpi)$ and the right side has poles at $s = \log_q \theta_2(\varpi), \log_q \theta_2'(\varpi)$.
  These must be the same, so without loss of generality, we can say $\theta_1(\varpi) = \theta_2(\varpi)$ and $\theta_1'(\varpi) = \theta_2'(\varpi)$.
  However, unramified characters of $\cW_F$ correspond to unramfied characters of $F^\times$ which are trivial on $U_F$.
  Since every element of $x \in F^\times$ can be written as $u\varpi^m$ for some $u \in U_F$ and $m \in \bbZ$, we have that
  \[\theta(x) = \theta(u\varpi^m) = \theta(u) \theta(\varpi)^m = \theta(\varpi)^m.\]
  So every unamified character of $F^\times$ is fully determined by its value on $\varpi$, and similarly for characters of $\cW_F$.
  This tells us that $\theta_1 = \theta_2$ and $\theta_1' = \theta_2'$, so we clearly find that \[\rho_1 = \rho_2\] which is what we wanted to show.
\end{proof}


\begin{lemma}[$\gamma$ has $1$ poles]
  \label{lem:gamma-one-pole}
  Suppose $\rho_1$ and $\rho_2$ are $2$-dimensional tamely ramified semi-simple representations of $\cW_F$, such that for all characters $\chi$ of $\cW_F$, we have
  \[\gamma(\rho_1 \otimes \chi,s,\psi) = \gamma(\rho_2 \otimes \chi,s,\psi),\]
  and $\gamma(\rho_i,s,\psi)$ has $1$ poles.
  Then $\rho_1 \cong \rho_2$.
\end{lemma}

\begin{proof}
  Suppose $\rho_1$ and $\rho_2$ are $2$-dimensional tamely ramified semi-simple representations of $\cW_F$, such that for all characters $\chi$ of $\cW_F$, we have
  \[\gamma(\rho_1 \otimes \chi,s,\psi) = \gamma(\rho_2 \otimes \chi,s,\psi),\]
  and $\gamma(\rho_i,s,\psi)$ has $1$ poles.
  As was mentioned in the proof of Lemma \ref{lem:gamma-two-poles}, the only source of poles in $\gamma(\rho_i,s,\psi)$ is the poles of $L(\check{\rho_i},s,\psi)$.
  So in order to have only one pole we must either have that the $\rho_i$ are the sum of an unramified character and a tamely ramified character; or the $\rho_i$ are a sum of two unramified characters and that somehow a pole of $L(\check{\rho_i},1-s)$ cancels out with a zero of $L(\rho_i,s)$.
  We will need to show that those two cases cannot coexist, and then prove the converse theorem in each case.
  We can separate these cases by looking at the zeroes of $\gamma(\rho_i,s ,\psi)$ as well as the poles.
  First, suppose $\rho_i = \theta_i \oplus \xi_i$ with $\theta_i$ unramified and $\xi_i$ tamely ramified.
  Then we find that $\gamma(\theta_i \oplus \xi_i,s,\psi)$ has a pole at
  \[s = \log_q(q\theta_i(\varpi)) = 1 + \log_q(\theta_i(\varpi))\]
  coming from $L(\check{\theta}_i,1-s)$ and a zero at
  \[s = \log_q(\theta_i(\varpi))\]
  coming from $L(\theta_i,s)$.
  On the other hand, suppose that $\rho_i = \theta_i \oplus \theta_i'$ with $\theta_i$ and $\theta_i'$ both unramified. Then as before, we have that (without cancellation of zeroes and poles)  $\gamma(\rho_i,s,\psi)$ has poles at
  \[s = \log_q(q\theta_i(\varpi), \log_q(q\theta_i'(\varpi))\]
  and has zeroes at
  \[s = \log_q(\theta_i(\varpi), \log_q(\theta_i'(\varpi)).\]


  In order to only have a single pole in this case, we must have that one of the zeroes cancels out one of the poles.
  Without loss of generality, we say that \[\log_q(q\theta_i(\varpi)) = \log_q(\theta_i'(\varpi))\]
  Then we have that $\theta_i'(\varpi) = q\theta_i(\varpi)$.
  Since an unramified character $\theta_i'$ is defined fully by the value it takes on $\varpi$, we have that there is only one choice for $\theta_i'$ for any given $\theta$.
  The left over zeroes and poles are then required to be a pole coming from $L(\check{\theta_i'},1-s)$ at 
  \[s = \log_q(q \theta_i'(\varpi)) = \log_q(q^2 \theta_i(\varpi)) = 2 + \log_q(\theta_i(\varpi))\]
  and a zero coming from $L(\theta_i,s)$ at
  \[s = \log_q(\theta_i(\varpi))\]
  What is of note here is that in the case when $\rho_i = \theta_i \oplus \xi_i$ is the sum of an unramified character and a tamely-ramified character, then the distance between the pole and the zero of $\gamma(\rho_i,s,\psi)$ is
  \[1 = \log_q(q\theta_i(\varpi)) - \log_q(\theta_i(\varpi)).\]
  On the other hand, when $\rho_i = \theta_i \oplus \theta_i'$ is the sum of two unramified characters with poles and zeroes that cancel out, then the distance between the pole and the zero of $\gamma(\rho_i,s,\psi)$ is
  \[2 = \log_q(q^2 \theta_i(\varpi)) - \log_q(\theta_i(\varpi)).\]
  So we can tell apart these cases by looking at the zeroes and poles of $\gamma(\rho_i,s,\psi)$.


  Now, let us show that both of these types of representations satisfy the converse theorem.
  We will start with the case where $\rho_i = \theta_i \oplus \theta_i'$ is the sum of two unramified characters with $\theta_i'(\varpi) = q \theta_i (\varpi)$.
  Since we have
  \[\gamma(\theta_1 \oplus \theta_1', s, \psi) = \gamma(\theta_2 \oplus \theta_2',s,\psi)\]
  we again must have that the poles are equal on each side.
  As mentioned above, $\gamma(\theta_i \oplus \theta_i' ,s, \psi)$ must have a pole at $s = 2 + \log_q(\theta_i(\varpi))$ if $\theta_i$ and $\theta_i'$ are both unramified and their poles and zeroes cancel.
  But \[2 + \log_q(\theta_1(\varpi)) = 2 + \log_q(\theta_2(\varpi)\]
  clearly implies $\theta_1(\varpi) = \theta_2(\varpi)$ and so $\theta_1 = \theta_2$ and $\theta_1' = \theta_2'$.
  As desired, this gives us $\rho_1 = \rho_2$ for the unramified case.

  Next, consider the case of $\rho_i = \theta_i \oplus \xi_i$ with $\theta_i$ unramified and $\xi_i$ tamely ramified (level $n = 0$).
  We have that $L(\rho_i,s) = L(\theta_i \oplus \xi_i ,s) = L(\theta_i,s)L(\xi_i,s) = L(\theta_i,s)$ because not unramified characters have trivial $L$ functions.
  So we can still identify that the poles of $\gamma(\rho_1,s,\psi)$ and $\gamma(\rho_2,s,\psi)$ are the same so $\theta_1(\varpi) = \theta_2(\varpi)$ which like the previous cases tells us that $\theta_1 = \theta_2$, so just call it $\theta$.
  The conditions of the converse theorem tell us that
  \[ \gamma((\theta \oplus \xi_1) \otimes \chi,s,\psi) = \gamma((\theta \oplus \xi_2) \otimes \chi,s,\psi\]
  for all characters $\chi$ of $\cW_F$.
  However, because $(\theta \oplus \xi_1)\otimes \chi = (\theta \otimes \chi) \oplus (\xi_1 \otimes \chi)$ and $\gamma$ is multiplicative, we have that
  \[\gamma (\xi_1 \otimes \chi,s,\psi) = \gamma(\xi_2 \otimes \chi,s,\psi)\]
  for all characters $\chi$ of $\cW_F$.
  However, because a twist of a tamely ramified character can not be unramified (level of a twist is max level of the characters) \textcolor{red}{Unless you twist by the inverse? Is this actually true?}, we have that all the $L$-functions that appear in the $\gamma$-factor are $1$.
  This means we infact have that
  \[\epsilon(\xi_1 \otimes \chi , s, \psi) = \epsilon(\xi_2 \otimes \chi,s,\psi)\]
  for all characters $\chi$ of $\cW_F$ \textcolor{red}{$\neq \xi_i^{-1}$?}
  Let us consider the twist of by the character defined by $\chi(1+x) = \psi(\varpi^{-1}x)$ for $x \in \fp$.
  Because $\psi$ is a level $1$ character, it is trivial on $\fp$.
  This makes $\chi(1+x) = \psi(\varpi^{-1}x)$ trivial for $x \in \fp^2$ and so $\chi(1+x)$ is trivial on $U_F^2$ making $\chi$ a level one character.
  \textcolor{red}{How do we define $\chi$ outside of $U^1_F$? It shouldn't matter, but would be nice to fully define.}
  Note that $\xi_1,\xi_2$ are level $0$ because we are only allowing tamely ramified characrters and $2 \cdot 0 < 1$ so we can apply the stability theorem.
  Applying Theorem \ref{thm:Stability} to both sides, we get that
  \[\xi_1(\varpi^{-1})^{-1}\epsilon(\chi,s,\psi) = \xi_2(\varpi^{-1})^{-1} \epsilon(\chi,s,\psi).\]
  With a little bit of algebraic manipulation, we find that $\xi_1(\varpi) = \xi_2(\varpi)$.
  If $\xi_1,\xi_2$ were unramified, we would be done now; but because they are only tamely ramified, we must show that $\xi_1$ and $\xi_2$ behave the same way on $U_F$ as well.
  \textcolor{red}{Appeal to finite Gauss sums}
\end{proof}


\begin{lemma}[$\gamma$ has $0$ poles]
  \label{lem:gamma-zero-poles}
  Suppose $\rho_1$ and $\rho_2$ are $2$-dimensional tamely ramified semi-simple representations of $\cW_F$, such that for all characters $\chi$ of $\cW_F$, we have
  \[\gamma(\rho_1 \otimes \chi,s,\psi) = \gamma(\rho_2 \otimes \chi,s,\psi),\]
  and $\gamma(\rho_i,s,\psi)$ has $0$ poles.
  Then $\rho_1 \cong \rho_2$.
\end{lemma}

\begin{proof}
  Suppose $\rho_1$ and $\rho_2$ are $2$-dimensional tamely ramified semi-simple representations of $\cW_F$, such that for all characters $\chi$ of $\cW_F$, we have
  \[\gamma(\rho_1 \otimes \chi,s,\psi) = \gamma(\rho_2 \otimes \chi,s,\psi),\]
  and $\gamma(\rho_i,s,\psi)$ has $0$ poles.
  We will need to show that there is no way for all the poles to cancel out if one of the $\rho_i$ has an unramified character as a subrepresentation.
  Then the two ways in which we can have no poles are either that the $\rho_i$ are the sum of two tamely ramified characters or the $\rho_i$ are two dimensional tamely ramified irreducibles.
  First we will need a way to distinguish between these two cases; then we will show that the converse theorem holds in each case.

  The proof of Lemma \ref{lem:gamma-one-pole} shows us why it is not possible for $\gamma$ to have no poles if there is an unramified portion of the $\rho_i$.
  Now, suppose first that $\rho_i = \xi_i \oplus \xi_i'$ with $\xi_i,\xi_i'$ both tamely ramified (level $n=0$).
  Then we have
  \[\epsilon(\rho_i,s,\psi) = \epsilon(\xi_i,s,\psi)\epsilon(\xi_i',s,\psi).\]
  Twisting by a level $n=1$ character $\chi$, we then have that
  \[\epsilon(\rho_i \otimes \chi,s,\psi) = \epsilon(\xi_i \otimes \chi,s,\psi) \epsilon(\xi_i',s,\psi).\]
  Finally, from the definition of the $\epsilon$-factor for level $n \geq 0$ characters, we have that $|\epsilon(\xi_i \otimes \chi,s,\psi)| = q^{\frac{1}{2}-s}$.
  The same applies to $\xi_i'\otimes \chi$ so overall, we then find that
  \[|\epsilon(\rho_i \otimes \chi,s,\psi)| = q^{1 - 2s}\]
  On the other hand, if $\rho_i$ is a two dimensional irreducible representation of $\cW_F$, then there is some unramified quadratic extension $E/F$ and tamely ramified character $\xi_i$ of $\cW_E$ such that $\rho_i = \ind_{E/F} \xi_i$.
  Then we find that \textcolor{red}{Need to write down the stuff with induction again to figure this out.}
  \textcolor{red}{Then apply stability and then finite gauss sums of $\bbF_{q^2}$ twisted by those of $\bbF_q$.}
\end{proof}

Now that we have the necessary lemmas, we can assemble them into a proof of Theorem \ref{thm:LCTn=2}.
\begin{proof}
  Suppose that $\rho_1$ and $\rho_2$ are two $2$-dimensional tamely ramifed semi-simple representations of $\cW_F$, such that for all characters $\chi$ of $\cW_F$ we have
  \[\gamma(\rho_1 \otimes \chi,s,\psi) = \gamma(\rho_2 \otimes \chi, s, \psi)\]
  As mentioned before, the only place poles can come from is the factor of $L(\check{\rho_i} \otimes \check{\chi},1-s)$, so there can be at most two poles of $\gamma(\rho_i \otimes \chi, s, \psi)$.
  In the case when there are two poles, Lemma \ref{lem:gamma-two-poles} proves the converse theorem without using any twists.
  Alternatively, this can be viewed as twisiting only by the trivial character which could be thought of as a zero dimensional thing.
  In the case where this is one pole, Lemma \ref{lem:gamma-one-pole} proves the converse theorem using \textcolor{red}{what twists here?}.
  Finally, in the case where there are zero poles, Lemma \ref{lem:gamma-zero-poles} proves the converse theorem using \textcolor{red}{how many twists?}
  Since we can have at most two poles and can't have fewer than zero; this covers all posibilities and concludes the proof of Theorem \ref{thm:LCTn=2}.
\end{proof}

\endinput
